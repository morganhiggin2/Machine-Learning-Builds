from scipy.special import legendre
from scipy.misc import derivative
from matplotlib import pyplot as plot
import numpy

#approximate legrendre of the nth deritiviate

def legendre_function(l, m):
    def legendre_at_l(x):
        leg = legendre(l)
        return leg(x) 

    return lambda x: -1 ** m * (1 - x ** 2) ** (m / 2) * derivative(legendre_at_l, x0=x, n=m)

l = 2
m = 1

x = numpy.arange(-2 * numpy.pi, 2 * numpy.pi, 0.1)
leg = legendre_function(l, m)
y = leg(x)
plot.plot(x, y)
plot.show()
